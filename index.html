<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>zili&#39;s Utopia</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta property="og:type" content="website">
<meta property="og:title" content="zili&#39;s Utopia">
<meta property="og:url" content="http://www.jinzili.cc/index.html">
<meta property="og:site_name" content="zili&#39;s Utopia">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zili&#39;s Utopia">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome5/css/fontawesome.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-brands.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-solid.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">zili&#39;s Utopia</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/é‡‘è‡ªåŠ›">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fas fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="æœç´¢" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="ins-close ins-selectable"><i class="fas fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æœªå‘½å)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/é‡‘è‡ªåŠ›">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="æœç´¢" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile" class="profile-fixed">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">é‡‘è‡ªåŠ›</h2>
            <h3 id="title">Web Developer &amp; Designer</h3>
            <span id="location"><i class="fas fa-map-marker-alt" style="padding-right: 5px"></i>ShangHai, China</span>
            <a id="follow" target="_blank" href="https://github.com/Jinzili">å…³æ³¨æˆ‘</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                28
                <span>æ–‡ç« </span>
            </div>
            <div class="article-info-block">
                35
                <span>æ ‡ç­¾</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/Jinzili" target="_blank" title="github" class=tooltip>
                            <i class="fab fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fab fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fab fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fab fa-dribbble"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-test" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/22/test/">test</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/07/22/test/">
            <time datetime="2018-07-22T14:59:45.000Z" itemprop="datePublished">2018-07-22</time>
        </a>
    </div>


                        
                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            
        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/07/22/test/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-å¤§æ•°æ®å­¦ä¹ -zookeeperç®€å•å‘½ä»¤åŠjava-api" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€å•å‘½ä»¤åŠjava-api/">å¤§æ•°æ®å­¦ä¹  - zookeeperç®€å•å‘½ä»¤åŠjava api</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€å•å‘½ä»¤åŠjava-api/">
            <time datetime="2018-07-22T13:43:32.000Z" itemprop="datePublished">2018-07-22</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/å¤§æ•°æ®/">å¤§æ•°æ®</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/zookeeper/">zookeeper</a>, <a class="tag-link" href="/tags/å¤§æ•°æ®/">å¤§æ•°æ®</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="bash-cmd"><a href="#bash-cmd" class="headerlink" title="bash cmd"></a>bash cmd</h2><ul>
<li><p>1ã€ä½¿ç”¨lså‘½ä»¤æ¥æŸ¥çœ‹å½“å‰zkä¸­æ‰€åŒ…å«çš„å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /</span><br></pre></td></tr></table></figure>
</li>
<li><p>2ã€åˆ›å»ºä¸€ä¸ªæ–°çš„znodeã€‚è¿™ä¸ªå‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„znodeèŠ‚ç‚¹ â€œzkâ€ä»¥åŠä¸å®ƒå…³è”çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create /zk</span><br></pre></td></tr></table></figure>
</li>
<li><p>3ã€è¿è¡Œgetå‘½ä»¤æ¥ç¡®è®¤znodeæ˜¯å¦åŒ…å«æˆ‘ä»¬æ‰€åˆ›å»ºçš„å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get /zk</span><br></pre></td></tr></table></figure>
</li>
<li><p>4ã€é€šè¿‡setå‘½ä»¤æ¥å¯¹zkæ‰€å…³è”çš„å­—ç¬¦ä¸²è¿›è¡Œè®¾ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set /zk &quot;test&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>5ã€åˆ é™¤znode</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete /zk</span><br></pre></td></tr></table></figure>
</li>
<li><p>6ã€åˆ é™¤èŠ‚ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmr /zk</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="java-api"><a href="#java-api" class="headerlink" title="java api"></a>java api</h2><p>org.apache.zookeeper.Zookeeperæ—¶å®¢æˆ·ç«¯å…¥å£ç±», è´Ÿè´£å»ºç«‹ä¸serverçš„ä¼šè¯, æä¾›äº†å‡ ç±»ä¸»è¦æ–¹æ³•:</p>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>create</td>
<td>åœ¨æœ¬åœ°ç›®å½•æ ‘ä¸­åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹</td>
</tr>
<tr>
<td>delete</td>
<td>åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹</td>
</tr>
<tr>
<td>exists</td>
<td>æ˜¯å¦å­˜åœ¨ç›®æ ‡èŠ‚ç‚¹</td>
</tr>
<tr>
<td>get/set data</td>
<td>ä»ç›®æ ‡å§å¼Ÿå•Šè¯»å–/å†™æ•°æ®</td>
</tr>
<tr>
<td>get/set ACL</td>
<td>è·å–/è®¾ç½®ç›®æ ‡èŠ‚ç‚¹è®¿é—®æ§åˆ¶åˆ—è¡¨ä¿¡æ¯</td>
</tr>
<tr>
<td>get children</td>
<td>æ£€ç´¢ç›®æ ‡èŠ‚ç‚¹çš„å­èŠ‚ç‚¹</td>
</tr>
<tr>
<td>sync</td>
<td>ç­‰å¾…è¦è¢«ä¼ é€çš„æ•°æ®</td>
</tr>
</tbody>
</table>
<h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECT_STRING = <span class="string">"bigdata1:2181,bigdata2:2181,bigdata3:2181"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Integer SESSION_TIMEOUT = <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> ZooKeeper zkClient = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆå§‹åŒ–client</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    zkClient = <span class="keyword">new</span> ZooKeeper(CONNECT_STRING, SESSION_TIMEOUT, (event) -&gt; &#123;</span><br><span class="line">        <span class="comment">// æ”¶åˆ°æ—¶é—´é€šçŸ¥åçš„å›è°ƒå‡½æ•° æ˜¯æˆ‘ä»¬è‡ªå·±çš„äº‹ä»¶å¤„ç†é€»è¾‘</span></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æ—¶ä¼šæ”¶åˆ°ä¸€æ¬¡</span></span><br><span class="line">        System.out.println(event.getType() + <span class="string">"---"</span> + event.getPath());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// é‡æ–°æ‰§è¡Œç›‘å¬</span></span><br><span class="line">            zkClient.getChildren(<span class="string">"/"</span>, <span class="keyword">true</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ•°æ®çš„å¢åˆ æ”¹æŸ¥</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// åˆ›å»ºæ•°æ®</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">create</span><span class="params">()</span> <span class="keyword">throws</span> KeeperException, InterruptedException </span>&#123;</span><br><span class="line">    <span class="comment">// è·¯å¾„ æ•°æ® æƒé™ ç±»å‹</span></span><br><span class="line">    String create = zkClient.create(<span class="string">"/idea"</span>,</span><br><span class="line">            <span class="string">"hello world"</span>.getBytes(),</span><br><span class="line">            ZooDefs.Ids.OPEN_ACL_UNSAFE,</span><br><span class="line">            CreateMode.PERSISTENT);</span><br><span class="line">    System.out.println(<span class="string">"create: "</span> + create);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exists</span><span class="params">()</span> <span class="keyword">throws</span> KeeperException, InterruptedException </span>&#123;</span><br><span class="line">    Stat stat = zkClient.exists(<span class="string">"/idea"</span>, <span class="keyword">false</span>);</span><br><span class="line">    System.out.println(stat == <span class="keyword">null</span> ? <span class="string">"not exists"</span> : <span class="string">"exists"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å­èŠ‚ç‚¹æ•°æ®</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getChildren</span><span class="params">()</span> <span class="keyword">throws</span> KeeperException, InterruptedException </span>&#123;</span><br><span class="line">    <span class="comment">// è·¯å¾„ æ˜¯å¦ç›‘å¬æ•°æ®å˜åŒ–</span></span><br><span class="line">    List&lt;String&gt; childs = zkClient.getChildren(<span class="string">"/"</span>, <span class="keyword">true</span>);</span><br><span class="line">    childs.forEach(System.out::println);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–èŠ‚ç‚¹æ•°æ®</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">get</span><span class="params">()</span> <span class="keyword">throws</span> KeeperException, InterruptedException </span>&#123;</span><br><span class="line">    <span class="keyword">byte</span>[] data = zkClient.getData(<span class="string">"/idea"</span>, <span class="keyword">false</span>, <span class="keyword">null</span>);</span><br><span class="line">    System.out.println(<span class="keyword">new</span> String(data));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤èŠ‚ç‚¹æ•°æ®</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> <span class="keyword">throws</span> KeeperException, InterruptedException </span>&#123;</span><br><span class="line">    <span class="comment">// å‚æ•°2, æŒ‡å®šè¦åˆ é™¤çš„ç‰ˆæœ¬, -1è¡¨ç¤ºåˆ é™¤æ‰€æœ‰ç‰ˆæœ¬</span></span><br><span class="line">    zkClient.delete(<span class="string">"/idea"</span>, -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®èŠ‚ç‚¹æ•°æ®</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">()</span> <span class="keyword">throws</span> KeeperException, InterruptedException </span>&#123;</span><br><span class="line">    zkClient.setData(<span class="string">"/idea"</span>, <span class="string">"hello world 2"</span>.getBytes(), -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€å•å‘½ä»¤åŠjava-api/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-å¤§æ•°æ®å­¦ä¹ -zookeeperç®€ä»‹" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€ä»‹/">å¤§æ•°æ®å­¦ä¹  - zookeeperç®€ä»‹</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€ä»‹/">
            <time datetime="2018-07-22T13:42:11.000Z" itemprop="datePublished">2018-07-22</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/å¤§æ•°æ®/">å¤§æ•°æ®</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/zookeeper/">zookeeper</a>, <a class="tag-link" href="/tags/å¤§æ•°æ®/">å¤§æ•°æ®</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="æ¦‚å¿µç®€ä»‹"><a href="#æ¦‚å¿µç®€ä»‹" class="headerlink" title="æ¦‚å¿µç®€ä»‹"></a>æ¦‚å¿µç®€ä»‹</h2><p> zookeeper(zk)æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œzkæœ¬èº«å°±æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç¨‹åºï¼Œåœ¨åº•å±‚å…¶å®åªæä¾›äº†ä¸¤ä¸ªåŠŸèƒ½ï¼š</p>
<ul>
<li>ç®¡ç†ï¼ˆå­˜å‚¨ã€è¯»å–ï¼‰ç”¨æˆ·ç¨‹åºæäº¤çš„æ•°æ®</li>
<li>æä¾›æ•°æ®èŠ‚ç‚¹ç›‘å¬æœåŠ¡</li>
</ul>
<p>å¸¸ç”¨çš„åº”ç”¨åœºæ™¯æœ‰</p>
<ul>
<li>æœåŠ¡å™¨çŠ¶æ€çš„åŠ¨æ€é€šçŸ¥</li>
<li>é…ç½®æ–‡ä»¶ç®¡ç†</li>
<li>åˆ†å¸ƒå¼å…±äº«é”</li>
<li>åç§°æœåŠ¡</li>
</ul>
<p>zké›†ç¾¤æœ‰ä¸¤ä¸ªè§’è‰²ï¼šleaderå’Œfollower(observer)<br>åªè¦é›†ç¾¤ä¸­åŠæ•°ä»¥ä¸ŠèŠ‚ç‚¹å­˜æ´»ï¼Œé›†ç¾¤å°±èƒ½æä¾›æœåŠ¡ã€‚</p>
<h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ol>
<li>ä¸€ä¸ªleaderã€å¤šä¸ªfollowerç»„æˆçš„é›†ç¾¤</li>
<li>å…¨å±€æ•°æ®ä¸€è‡´, æ¯ä¸ªserverä¿å­˜ä¸€ä»½ç›¸åŒçš„æ•°æ®å‰¯æœ¬, clientæ— è®ºè¿æ¥åˆ°å“ªä¸ªserver, æ•°æ®éƒ½æ˜¯ä¸€è‡´çš„(å¼ºä¸€è‡´æ€§)</li>
<li>åˆ†å¸ƒå¼è¯»å†™, æ›´æ–°è¯·æ±‚è½¬å‘, ç”±leaderå®æ–½</li>
<li>æ›´æ–°è¯·æ±‚é¡ºåºè¿›è¡Œ, æ¥è‡ªåŒä¸€ä¸ªclientçš„æ›´æ–°è¯·æ±‚æŒ‰å…¶å‘é€é¡ºåºä¾æ¬¡æ‰§è¡Œ</li>
<li>æ•°æ®æ›´æ–°åŸå­æ€§, ä¸€æ¬¡æ•°æ®æ›´æ–°è¦ä¹ˆæˆåŠŸ, è¦ä¹ˆå¤±è´¥</li>
<li>å®æ—¶æ€§, åœ¨ä¸€å®šæ—¶é—´èŒƒå›´å†…, clientèƒ½è¯»åˆ°æœ€æ–°æ•°æ®</li>
</ol>
<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><ol>
<li>å±‚æ¬¡åŒ–çš„ç›®å½•ç»“æ„, æ˜æ˜ç¬¦åˆå¸¸è§„æ–‡ä»¶ç³»ç»Ÿè§„èŒƒ</li>
<li>æ¯ä¸ªèŠ‚ç‚¹åœ¨zkä¸­å«åšznode, å¹¶ä¸”æœ‰ä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„æ ‡è¯†</li>
<li>èŠ‚ç‚¹znodeå¯ä»¥åŒ…å«æ•°æ®å’Œå­èŠ‚ç‚¹(ä½†æ˜¯EPHEMERALç±»å‹çš„èŠ‚ç‚¹ä¸èƒ½æœ‰å­èŠ‚ç‚¹)</li>
<li>å®¢æˆ·ç«¯åº”ç”¨å¯ä»¥åœ¨èŠ‚ç‚¹ä¸Šè®¾ç½®ç›‘è§†å™¨</li>
</ol>
<h2 id="èŠ‚ç‚¹ç±»å‹"><a href="#èŠ‚ç‚¹ç±»å‹" class="headerlink" title="èŠ‚ç‚¹ç±»å‹"></a>èŠ‚ç‚¹ç±»å‹</h2><ol>
<li>znodeæœ‰ä¸¤ç§ç±»å‹<br>çŸ­æš‚(ephemeral): æ–­å¼€è¿æ¥è‡ªåŠ¨åˆ é™¤<br>æŒä¹…(persistent): æ–­å¼€è¿æ¥ä¸åˆ é™¤</li>
<li>znodeæœ‰4ä¸­å½¢å¼çš„ç›®å½•èŠ‚ç‚¹</li>
</ol>
<ul>
<li>PERSISTENT(default)</li>
<li>PERSISTENT_SEQUENTIAL(æŒä¹…åºåˆ—/test0000000019)</li>
<li>EPHEMERAL</li>
<li>EPEMERAL_SEQUENTIAL</li>
</ul>
<ol>
<li>SEQUENTIALè¡¨ç¤ºåºåˆ—èŠ‚ç‚¹, åˆ›å»ºznodeæ—¶è®¾ç½®é¡ºåºæ ‡è¯†, znodeåç§°åä¼šé™„åŠ ä¸€ä¸ªå€¼, é¡ºåºæ—¶ä¸€ä¸ªå•è°ƒé€’å¢çš„è®¡æ•°å™¨, åˆçˆ¶èŠ‚ç‚¹ç»´æŠ¤</li>
<li>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­, é¡ºåºå·å¯ä»¥è¢«ç”¨äºä¸ºæ‰€æœ‰çš„æ—¶é—´è¿›è¡Œå…¨å±€æ’åº, è¿™æ ·å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡é¡ºåºå·æ¨æ–­æ—¶é—´çš„é¡ºåºã€‚</li>
</ol>
<h2 id="zkåŸç†"><a href="#zkåŸç†" class="headerlink" title="zkåŸç†"></a>zkåŸç†</h2><p>zkè™½ç„¶åœ¨é…ç½®æ–‡ä»¶å¹¶æ²¡æœ‰æŒ‡å®šleaderå’Œfollower, ä½†æ˜¯, zkå·¥ä½œæ—¶, æ˜¯æœ‰ä¸€ä¸ªèŠ‚ç‚¹ä¸ºleader, å…¶ä»–åˆ™ä¸ºfollower, leaderæ˜¯é€šè¿‡å†…éƒ¨çš„é€‰ä¸¾æœºåˆ¶ä¸´æ—¶äº§ç”Ÿçš„ã€‚</p>
<h3 id="zkçš„é€‰ä¸¾æœºåˆ¶-å…¨æ–°é›†ç¾¤ä½¿ç”¨paxos"><a href="#zkçš„é€‰ä¸¾æœºåˆ¶-å…¨æ–°é›†ç¾¤ä½¿ç”¨paxos" class="headerlink" title="zkçš„é€‰ä¸¾æœºåˆ¶(å…¨æ–°é›†ç¾¤ä½¿ç”¨paxos)"></a>zkçš„é€‰ä¸¾æœºåˆ¶(å…¨æ–°é›†ç¾¤ä½¿ç”¨paxos)</h3><p> ä»¥ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜æ•´ä¸ªé€‰ä¸¾çš„è¿‡ç¨‹.<br>å‡è®¾æœ‰äº”å°æœåŠ¡å™¨ç»„æˆçš„zookeeperé›†ç¾¤,å®ƒä»¬çš„idä»1-5,åŒæ—¶å®ƒä»¬éƒ½æ˜¯æœ€æ–°å¯åŠ¨çš„,ä¹Ÿå°±æ˜¯æ²¡æœ‰å†å²æ•°æ®,åœ¨å­˜æ”¾æ•°æ®é‡è¿™ä¸€ç‚¹ä¸Š,éƒ½æ˜¯ä¸€æ ·çš„.å‡è®¾è¿™äº›æœåŠ¡å™¨ä¾åºå¯åŠ¨,æ¥çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ.<br>1) æœåŠ¡å™¨1å¯åŠ¨,æ­¤æ—¶åªæœ‰å®ƒä¸€å°æœåŠ¡å™¨å¯åŠ¨äº†,å®ƒå‘å‡ºå»çš„æŠ¥æ²¡æœ‰ä»»ä½•å“åº”,æ‰€ä»¥å®ƒçš„é€‰ä¸¾çŠ¶æ€ä¸€ç›´æ˜¯LOOKINGçŠ¶æ€<br>2) æœåŠ¡å™¨2å¯åŠ¨,å®ƒä¸æœ€å¼€å§‹å¯åŠ¨çš„æœåŠ¡å™¨1è¿›è¡Œé€šä¿¡,äº’ç›¸äº¤æ¢è‡ªå·±çš„é€‰ä¸¾ç»“æœ,ç”±äºä¸¤è€…éƒ½æ²¡æœ‰å†å²æ•°æ®,æ‰€ä»¥idå€¼è¾ƒå¤§çš„æœåŠ¡å™¨2èƒœå‡º,ä½†æ˜¯ç”±äºæ²¡æœ‰è¾¾åˆ°è¶…è¿‡åŠæ•°ä»¥ä¸Šçš„æœåŠ¡å™¨éƒ½åŒæ„é€‰ä¸¾å®ƒ(è¿™ä¸ªä¾‹å­ä¸­çš„åŠæ•°ä»¥ä¸Šæ˜¯3),æ‰€ä»¥æœåŠ¡å™¨1,2è¿˜æ˜¯ç»§ç»­ä¿æŒLOOKINGçŠ¶æ€.<br>3) æœåŠ¡å™¨3å¯åŠ¨,æ ¹æ®å‰é¢çš„ç†è®ºåˆ†æ,æœåŠ¡å™¨3æˆä¸ºæœåŠ¡å™¨1,2,3ä¸­çš„è€å¤§,è€Œä¸ä¸Šé¢ä¸åŒçš„æ˜¯,æ­¤æ—¶æœ‰ä¸‰å°æœåŠ¡å™¨é€‰ä¸¾äº†å®ƒ,æ‰€ä»¥å®ƒæˆä¸ºäº†è¿™æ¬¡é€‰ä¸¾çš„leader.<br>4) æœåŠ¡å™¨4å¯åŠ¨,æ ¹æ®å‰é¢çš„åˆ†æ,ç†è®ºä¸ŠæœåŠ¡å™¨4åº”è¯¥æ˜¯æœåŠ¡å™¨1,2,3,4ä¸­æœ€å¤§çš„,ä½†æ˜¯ç”±äºå‰é¢å·²ç»æœ‰åŠæ•°ä»¥ä¸Šçš„æœåŠ¡å™¨é€‰ä¸¾äº†æœåŠ¡å™¨3,æ‰€ä»¥å®ƒåªèƒ½æ¥æ”¶å½“å°å¼Ÿçš„å‘½äº†.<br>5) æœåŠ¡å™¨5å¯åŠ¨,åŒ4ä¸€æ ·,å½“å°å¼Ÿ.</p>
<h3 id="éå…¨æ–°é›†ç¾¤çš„é€‰ä¸¾æœºåˆ¶"><a href="#éå…¨æ–°é›†ç¾¤çš„é€‰ä¸¾æœºåˆ¶" class="headerlink" title="éå…¨æ–°é›†ç¾¤çš„é€‰ä¸¾æœºåˆ¶"></a>éå…¨æ–°é›†ç¾¤çš„é€‰ä¸¾æœºåˆ¶</h3><p>é‚£ä¹ˆï¼Œåˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§ä¸Šè¿°çš„è¯´æ˜è¿›è¡Œé€‰ä¸¾çš„ï¼Œä½†æ˜¯å½“zookeeperè¿è¡Œäº†ä¸€æ®µæ—¶é—´ä¹‹åï¼Œæœ‰æœºå™¨downæ‰ï¼Œé‡æ–°é€‰ä¸¾æ—¶ï¼Œé€‰ä¸¾è¿‡ç¨‹å°±ç›¸å¯¹å¤æ‚äº†ã€‚<br>éœ€è¦åŠ å…¥æ•°æ®idã€leader idå’Œé€»è¾‘æ—¶é’Ÿã€‚<br>æ•°æ®idï¼šæ•°æ®æ–°çš„idå°±å¤§ï¼Œæ•°æ®æ¯æ¬¡æ›´æ–°éƒ½ä¼šæ›´æ–°idã€‚<br>Leader idï¼šå°±æ˜¯æˆ‘ä»¬é…ç½®çš„myidä¸­çš„å€¼ï¼Œæ¯ä¸ªæœºå™¨ä¸€ä¸ªã€‚<br>é€»è¾‘æ—¶é’Ÿï¼šè¿™ä¸ªå€¼ä»0å¼€å§‹é€’å¢,æ¯æ¬¡é€‰ä¸¾å¯¹åº”ä¸€ä¸ªå€¼,ä¹Ÿå°±æ˜¯è¯´:  å¦‚æœåœ¨åŒä¸€æ¬¡é€‰ä¸¾ä¸­,é‚£ä¹ˆè¿™ä¸ªå€¼åº”è¯¥æ˜¯ä¸€è‡´çš„ ;  é€»è¾‘æ—¶é’Ÿå€¼è¶Šå¤§,è¯´æ˜è¿™ä¸€æ¬¡é€‰ä¸¾leaderçš„è¿›ç¨‹æ›´æ–°.<br>é€‰ä¸¾çš„æ ‡å‡†å°±å˜æˆï¼š</p>
<p>1ã€é€»è¾‘æ—¶é’Ÿå°çš„é€‰ä¸¾ç»“æœè¢«å¿½ç•¥ï¼Œé‡æ–°æŠ•ç¥¨</p>
<p>2ã€ç»Ÿä¸€é€»è¾‘æ—¶é’Ÿåï¼Œæ•°æ®idå¤§çš„èƒœå‡º</p>
<p>3ã€æ•°æ®idç›¸åŒçš„æƒ…å†µä¸‹ï¼Œleader idå¤§çš„èƒœå‡º</p>
<p>æ ¹æ®è¿™ä¸ªè§„åˆ™é€‰å‡ºleaderã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="ç¯å¢ƒéƒ¨ç½²"><a href="#ç¯å¢ƒéƒ¨ç½²" class="headerlink" title="ç¯å¢ƒéƒ¨ç½²"></a>ç¯å¢ƒéƒ¨ç½²</h3><p>è‡³å°‘3å°æœ‰jdkç¯å¢ƒçš„æœºå™¨ï¼ˆè™šæ‹Ÿæœºä¹Ÿå¯ï¼‰</p>
<h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><p>ä¸¤ç§æ–¹æ³•ï¼Œå®˜ç½‘ä¸‹è½½ä½¿ç”¨ftpå·¥å…·ä¼ è¾“åˆ°æœºå™¨ä¸Šæˆ–ç›´æ¥ä½¿ç”¨wget</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/apache/zookeeper/zookeeper-3.4.13/zookeeper-3.4.13.tar.gz</span><br></pre></td></tr></table></figure>
<h3 id="è§£å‹å¹¶é‡å‘½å"><a href="#è§£å‹å¹¶é‡å‘½å" class="headerlink" title="è§£å‹å¹¶é‡å‘½å"></a>è§£å‹å¹¶é‡å‘½å</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf zookeeper-3.4.13.tar.gz</span><br><span class="line">mv zookeeper-3.4.13 zookeeper</span><br></pre></td></tr></table></figure>
<h3 id="ä¿®æ”¹ç¯å¢ƒå˜é‡"><a href="#ä¿®æ”¹ç¯å¢ƒå˜é‡" class="headerlink" title="ä¿®æ”¹ç¯å¢ƒå˜é‡"></a>ä¿®æ”¹ç¯å¢ƒå˜é‡</h3><ol>
<li>su -rootï¼Œåˆ‡æ¢åˆ°rootç”¨æˆ·</li>
<li>vim /etx/profile</li>
<li><p>æ·»åŠ å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export ZOOKEEPER_HOME=/home/hadoop/zookeeper</span><br><span class="line">export PATH=$PATH:$ZOOKEEPER_HOME/bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡æ–°åŠ è½½æ–‡ä»¶</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>
<ol>
<li>åˆ‡æ¢å›hadoopç”¨æˆ·</li>
<li>æ³¨æ„ï¼Œæ‰€æœ‰çš„zkæœºå™¨éƒ½éœ€è¦ä¿®æ”¹</li>
</ol>
<h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><ol>
<li><p>åœ¨zkæ–‡ä»¶å¤¹ä¸­æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd zookeeper/conf</span><br><span class="line">cp zoo_sample.cfg zoo.cfg</span><br></pre></td></tr></table></figure>
</li>
<li><p>vim zoo.cfg æ·»åŠ å†…å®¹</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dataDir=/home/hadoop/zookeeper/data</span><br><span class="line">dataLogDir=/home/hadoop/zookeeper/log</span><br><span class="line">server.1=slave1:2888:3888 (ä¸»æœºå, å¿ƒè·³ç«¯å£ã€æ•°æ®ç«¯å£)</span><br><span class="line">server.2=slave2:2888:3888</span><br><span class="line">server.3=slave3:2888:3888</span><br></pre></td></tr></table></figure>
<ol>
<li>åˆ›å»ºæ–‡ä»¶å¤¹</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /home/hadoop/zookeeper/</span><br><span class="line">mkdir -m 755 data</span><br><span class="line">mkdir -m 755 log</span><br></pre></td></tr></table></figure>
<ol>
<li>åœ¨dataæ–‡ä»¶ä¸‹æ–°å»ºmyidæ–‡ä»¶, å†…å®¹ä¸º</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 1 &gt;&gt; myid</span><br></pre></td></tr></table></figure>
<h2 id="å¤åˆ¶ä¿®æ”¹å¥½çš„zkæ–‡ä»¶å¤¹åˆ°å…¶ä»–æœºå™¨ä¸Š"><a href="#å¤åˆ¶ä¿®æ”¹å¥½çš„zkæ–‡ä»¶å¤¹åˆ°å…¶ä»–æœºå™¨ä¸Š" class="headerlink" title="å¤åˆ¶ä¿®æ”¹å¥½çš„zkæ–‡ä»¶å¤¹åˆ°å…¶ä»–æœºå™¨ä¸Š"></a>å¤åˆ¶ä¿®æ”¹å¥½çš„zkæ–‡ä»¶å¤¹åˆ°å…¶ä»–æœºå™¨ä¸Š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /home/hadoop/zookeeper hadoop@slave2:/home/hadoop/</span><br><span class="line">scp -r /home/hadoop/zookeeper hadoop@slave3:/home/hadoop/</span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸”è¦è®°å¾—ä¿®æ”¹myidæ–‡ä»¶ï¼š<br>slave2ä¸Šå†…å®¹ä¿®æ”¹ä¸º2<br>slave3ä¸Šå†…å®¹ä¿®æ”¹ä¸º3</p>
<h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><p>zkServer.sh start</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€ä»‹/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Node-a-different-Node-js-version-using-å¼‚å¸¸" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/08/Node-a-different-Node-js-version-using-å¼‚å¸¸/">Node - a different Node.js version using å¼‚å¸¸</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/07/08/Node-a-different-Node-js-version-using-å¼‚å¸¸/">
            <time datetime="2018-07-08T00:54:51.000Z" itemprop="datePublished">2018-07-08</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/æŠ€æœ¯æ‚è°ˆ/">æŠ€æœ¯æ‚è°ˆ</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/node/">node</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>ä»Šå¤©åœ¨æ›´æ–°åšå®¢çš„æ—¶å€™ï¼Œçªç„¶æŠ¥äº†å¼‚å¸¸ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Error: The module &apos;/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/build/Release/DTraceProviderBindings.node&apos;</span><br><span class="line">was compiled against a different Node.js version using</span><br><span class="line">NODE_MODULE_VERSION 57. This version of Node.js requires</span><br><span class="line">NODE_MODULE_VERSION 59. Please try re-compiling or re-installing</span><br><span class="line">the module (for instance, using `npm rebuild` or `npm install`).</span><br><span class="line">    at Object.Module._extensions..node (module.js:689:18)</span><br><span class="line">    at Module.load (module.js:573:32)</span><br><span class="line">    at tryModuleLoad (module.js:513:12)</span><br><span class="line">    at Function.Module._load (module.js:505:3)</span><br><span class="line">    at Module.require (module.js:604:17)</span><br><span class="line">    at require (internal/module.js:11:18)</span><br><span class="line">    at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/dtrace-provider.js:18:23)</span><br><span class="line">    at Module._compile (module.js:660:30)</span><br><span class="line">    at Object.Module._extensions..js (module.js:671:10)</span><br><span class="line">    at Module.load (module.js:573:32)</span><br><span class="line">    at tryModuleLoad (module.js:513:12)</span><br><span class="line">    at Function.Module._load (module.js:505:3)</span><br><span class="line">    at Module.require (module.js:604:17)</span><br><span class="line">    at require (internal/module.js:11:18)</span><br><span class="line">    at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/bunyan/lib/bunyan.js:79:18)</span><br><span class="line">    at Module._compile (module.js:660:30)</span><br></pre></td></tr></table></figure>
<p>çœ‹æ ·å­æ˜¯æœ‰ä¸€ä¸ªæ¨¡å—å› ä¸ºè¢«ä¸åŒç‰ˆæœ¬çš„nodeç»™buildäº†ï¼Œä¼°è®¡æ˜¯å‰ä¸€é˜µå­æ›´æ–°macç³»ç»Ÿç‰ˆæœ¬çš„æ—¶å€™æ›´æ–°äº†nodeç‰ˆæœ¬ã€‚<br>å…³äºnodeæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼Œåªèƒ½æ±‚åŠ©äºè°·æ­Œ- -<br>æœ€åç»ˆäºæ‰¾åˆ°äº†ä¸€ä¸ªæš´åŠ›çš„è§£å†³æ–¹æ³•ï¼š<br>1ã€cd åˆ° /usr/local/lib/node_modules/hexo-cli/<br>2ã€å¹²æ‰node_modulesæ–‡ä»¶å¤¹<br>3ã€npm install<br>4ã€cd åˆ° hexo_project<br>5ã€å¹²æ‰node_modulesæ–‡ä»¶å¤¹<br>6ã€npm install</p>
<p>æå®š æ”¶å·¥~</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/07/08/Node-a-different-Node-js-version-using-å¼‚å¸¸/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Javaç±»åŠ è½½æœºåˆ¶(äºŒ)" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/07/08/Javaç±»åŠ è½½æœºåˆ¶(äºŒ)/">Javaç±»åŠ è½½æœºåˆ¶(äºŒ)</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/07/08/Javaç±»åŠ è½½æœºåˆ¶(äºŒ)/">
            <time datetime="2018-07-08T00:52:42.000Z" itemprop="datePublished">2018-07-08</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/JavaBase/">JavaBase</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/ç±»åŠ è½½/">ç±»åŠ è½½</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="ç±»åŠ è½½"><a href="#ç±»åŠ è½½" class="headerlink" title="ç±»åŠ è½½"></a>ç±»åŠ è½½</h2><p>å…ˆæ¥çœ‹ä¸ªæ —å­ğŸŒ°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ClassLoader loader = Thread.currentThread().getContextClassLoader();</span><br><span class="line">    System.out.println(loader);</span><br><span class="line">    System.out.println(loader.getParent());</span><br><span class="line">    System.out.println(loader.getParent().getParent());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sun.misc.Launcher$AppClassLoader@<span class="number">18</span>b4aac2</span><br><span class="line">sun.misc.Launcher$ExtClassLoader@<span class="number">5f</span>5a92bb</span><br><span class="line"><span class="keyword">null</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œæ²¡æœ‰è·å–åˆ°ExtClassLoaderçš„çˆ¶Loaderï¼ŒåŸå› æ˜¯Bootstrap Loader(å¼•å¯¼ç±»åŠ è½½å™¨)æ˜¯ç”¨Cè¯­è¨€å®ç°çš„ï¼Œæ‰¾ä¸åˆ°ä¸€ä¸ªç¡®å®šçš„è¿”å›çˆ¶Loaderçš„æ–¹å¼ï¼Œäºæ˜¯è¿”å›ä¸ºnullã€‚</p>
<p>ç«™åœ¨Javaè™šæ‹Ÿæœºçš„è§’åº¦æ¥è¯´ï¼Œåªå­˜åœ¨ä¸¤ç§ä¸åŒçš„ç±»åŠ è½½å™¨ï¼š</p>
<ul>
<li>å¯åŠ¨ç±»åŠ è½½å™¨ï¼šä½¿ç”¨C++å®ç°ï¼ˆä»…é™äºHotspotï¼‰ï¼Œæ˜¯è™šæ‹Ÿæœºçš„ä¸€éƒ¨åˆ†</li>
<li>æ‰€æœ‰å…¶ä»–ç±»åŠ è½½å™¨ï¼šè¿™äº›åŠ è½½å™¨éƒ½ç”±Javaè¯­è¨€å®ç°ï¼Œç‹¬ç«‹äºè™šæ‹Ÿæœºä¹‹å¤–ï¼Œå¹¶ä¸”å…¨éƒ¨ç»§æ‰¿è‡ªæŠ½è±¡ç±»java.lang.ClassLoaderï¼Œè¿™äº›ç±»åŠ è½½å™¨éœ€è¦ç”±å¯åŠ¨ç±»åŠ è½½å™¨åŠ è½½åˆ°å†…å­˜ä¸­ä¹‹åæ‰èƒ½å»åŠ è½½å…¶ä»–çš„ç±»ã€‚</li>
</ul>
<p>ç«™åœ¨å¼€å‘äººå‘˜çš„è§’åº¦æ¥è¯´ï¼Œå¤§è‡´å¯åˆ†ä¸ºä¸‰ç±»ç±»åŠ è½½å™¨ï¼š</p>
<ul>
<li>å¯åŠ¨ç±»åŠ è½½å™¨ï¼šBootstrap Loaderï¼Œè´Ÿè´£åŠ è½½å­˜æ”¾åœ¨JDK/jre/libä¸‹ï¼Œæˆ–è¢«-Xbootclasspathå‚æ•°æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œå¹¶ä¸”èƒ½è¢«è™šæ‹Ÿæœºè¯†åˆ«çš„ç±»åº“ï¼ˆå¦‚rt.jarï¼Œæ‰€æœ‰çš„java.*å¼€å¤´çš„ç±»å‡è¢«BootstrapClassLaoderåŠ è½½ï¼‰ã€‚å¯åŠ¨ç±»åŠ è½½å™¨æ˜¯æ— æ³•è¢«Javaç¨‹åºç›´æ¥å¼•ç”¨çš„ã€‚</li>
<li>æ‰©å±•ç±»åŠ è½½å™¨ï¼šExtension ClassLoaderï¼Œè¯¥åŠ è½½å™¨ç”±sun.misc.Launcher$ExtClassLoaderå®ç°ï¼Œå®ƒè´Ÿè´£åŠ è½½JDK/jre/lib/extç›®å½•ä¸­ï¼Œæˆ–è€…ç”±java.ext.dirsç³»ç»Ÿå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­çš„æ‰€æœ‰ç±»åº“ï¼ˆå¦‚javax.*å¼€å¤´çš„ç±»ï¼‰ï¼Œå¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨æ‰©å±•ç±»åŠ è½½å™¨ã€‚</li>
<li>åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼šApplication ClassLoaderï¼Œè¯¥ç±»åŠ è½½å™¨ç”±sun.misc.Launcher$AppClassLoaderæ¥å®ç°ï¼Œå®ƒè´Ÿè´£åŠ è½½ç”¨æˆ·ç±»è·¯å¾„æ‰€æŒ‡å®šçš„ç±»ï¼Œå¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥ç±»åŠ è½½å™¨ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä¸­æ²¡æœ‰è‡ªå®šä¹‰è¿‡è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªå°±æ˜¯ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨ã€‚</li>
</ul>
<p>å¦‚æœæœ‰å¿…è¦ï¼Œè¿˜å¯ä»¥å‡å¦‚è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ã€‚</p>
<p>ExtClassLoaderå’ŒAPPClassLoaderå¹¶ä¸æ˜¯ç»§æ‰¿å…³ç³»ï¼Œå®ƒä»¬éƒ½ç»§æ‰¿åŒä¸€ä¸ªç±»URLClassLoaderã€‚</p>
<blockquote>
<p>JVMç±»åŠ è½½æœºåˆ¶ï¼š</p>
<ul>
<li>å…¨ç›˜è´Ÿè´£ï¼šå½“ä¸€ä¸ªç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½æŸä¸ªClassæ—¶ï¼Œè¯¥Classæ‰€ä¾èµ–çš„å’Œå¼•ç”¨çš„å…¶ä»–Classä¹Ÿå°†ç”±è¯¥ç±»åŠ è½½å™¨è´Ÿè´£è½½å…¥ï¼Œé™¤éæ˜¾ç¤ºä½¿ç”¨å¦å¤–ä¸€ä¸ªç±»åŠ è½½å™¨æ¥è½½å…¥</li>
<li>çˆ¶ç±»å§”æ‰˜ï¼šå…ˆè®©çˆ¶ç±»åŠ è½½å™¨è¯•å›¾åŠ è½½è¯¥ç±»ï¼Œåªæœ‰åœ¨çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½è¯¥ç±»æ—¶æ‰å°è¯•ä»è‡ªå·±çš„ç±»è·¯å¾„åŠ è½½è¯¥ç±»</li>
<li>ç¼“å­˜æœºåˆ¶ï¼šç¼“å­˜æœºåˆ¶ä¼šä¿è¯æ‰€æœ‰åŠ è½½è¿‡çš„Classéƒ½ä¼šè¢«ç¼“å­˜ï¼Œå½“ç¨‹åºä¸­éœ€è¦ä½¿ç”¨æŸä¸ªClassæ—¶ï¼Œç±»åŠ è½½å™¨å…ˆä»ç¼“å­˜åŒºå¯»æ‰¾è¯¥Classï¼Œåªæœ‰ç¼“å­˜åŒºä¸å­˜åœ¨ï¼Œç³»ç»Ÿæ‰ä¼šè¯»å–è¯¥ç±»å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶å°†å…¶è½¬æ¢æˆClasså¯¹è±¡ï¼Œå­˜å…¥ç¼“å­˜åŒºã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¿®æ”¹äº†Classåï¼Œå¿…é¡»é‡å¯JVMï¼Œç¨‹åºçš„ä¿®æ”¹æ‰ä¼šç”Ÿæ•ˆ</li>
</ul>
</blockquote>
<p><img src="https://cloud.gemii.cc/lizcloud/fs/noauth/media/5ac4463d1e6d8a0037546f68" alt="image"></p>
<h2 id="åŒäº²å§”æ´¾æœºåˆ¶"><a href="#åŒäº²å§”æ´¾æœºåˆ¶" class="headerlink" title="åŒäº²å§”æ´¾æœºåˆ¶"></a>åŒäº²å§”æ´¾æœºåˆ¶</h2><blockquote>
<p>ä¸ºä»€ä¹ˆéœ€è¦åŒäº²å§”æ´¾æœºåˆ¶ï¼Ÿ</p>
<p>å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œjvmåˆ¤æ–­ä¸¤ä¸ªç±»ç›¸åŒçš„å‰ææ˜¯è¿™ä¸¤ä¸ªç±»éƒ½æ˜¯åŒä¸€ä¸ªåŠ è½½å™¨è¿›è¡ŒåŠ è½½çš„ï¼Œå¦‚æœä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½åŒä¸€ä¸ªç±»ï¼Œé‚£åœ¨jvmä¸­ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸åŒçš„ã€‚æ‰€ä»¥å¦‚æœæ²¡æœ‰åŒäº²å§”æ´¾æœºåˆ¶ï¼Œå¦‚æœæˆ‘ä»¬åœ¨rt.jarä¸­éšä¾¿æ‰¾ä¸€ä¸ªç±»ï¼Œå¦‚java.util.HashMapï¼Œé‚£ä¹ˆæˆ‘ä»¬åŒæ ·ä¹Ÿå¯ä»¥å†™ä¸€ä¸ªä¸€æ ·çš„ç±»ï¼Œä¹Ÿå«java.util.HashMapå­˜æ”¾åœ¨æˆ‘ä»¬è‡ªå·±çš„è·¯å¾„ä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç±»é‡‡ç”¨çš„æ˜¯ä¸åŒçš„ç±»åŠ è½½å™¨ï¼Œç¨‹åºä¸­å°±ä¼šå‡ºç°ä¸¤ä¸ªä¸åŒçš„HashMapç±»ã€‚æ€»ç»“æ¥è¯´ï¼Œ1ã€ç³»ç»Ÿç±»é˜²æ­¢å†…å­˜ä¸­å‡ºç°å¤šèŠ¬åŒæ ·çš„å­—èŠ‚ç  2ã€ä¿è¯Javaç¨‹åºå®‰å…¨ç¨³å®šè¿è¡Œ</p>
</blockquote>
<p>åŒäº²å§”æ´¾çš„å·¥ä½œæµç¨‹æ˜¯ï¼šå¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½çš„è¯·æ±‚ï¼Œå®ƒé¦–å…ˆä¸ä¼šè‡ªå·±å»å°è¯•åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠè¯·æ±‚å§”æ‰˜ç»™çˆ¶åŠ è½½å™¨å»å®Œæˆï¼Œä¾æ¬¡å‘ä¸Šï¼Œæ‰€ä»¥æ‰€æœ‰çš„ç±»åŠ è½½è¯·æ±‚æœ€ç»ˆéƒ½åº”è¯¥è¢«ä¼ é€’åˆ°é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ä¸­ï¼Œåªæœ‰å½“çˆ¶åŠ è½½å™¨åœ¨å®ƒçš„æœç´¢èŒƒå›´ä¸­æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€çš„ç±»æ—¶ï¼Œå³æ— æ³•å®Œæˆè¯¥åŠ è½½ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½è¯¥ç±»ã€‚</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/07/08/Javaç±»åŠ è½½æœºåˆ¶(äºŒ)/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Javaç±»åŠ è½½æœºåˆ¶(ä¸€)" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/06/30/Javaç±»åŠ è½½æœºåˆ¶(ä¸€)/">Javaç±»åŠ è½½æœºåˆ¶</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/06/30/Javaç±»åŠ è½½æœºåˆ¶(ä¸€)/">
            <time datetime="2018-06-30T02:49:31.000Z" itemprop="datePublished">2018-06-30</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/JavaBase/">JavaBase</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/ç±»åŠ è½½/">ç±»åŠ è½½</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="ç±»çš„åŠ è½½"><a href="#ç±»çš„åŠ è½½" class="headerlink" title="ç±»çš„åŠ è½½"></a>ç±»çš„åŠ è½½</h2><p>Javaç±»çš„åŠ è½½æŒ‡çš„æ˜¯å°†ç±»çš„.classæ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶æ•°æ®è¯»å…¥åˆ°å†…å­˜ä¸­ï¼Œå°†å…¶æ”¾åœ¨è¿è¡Œæ—¶æ•°æ®åŒºçš„æ–¹æ³•åŒºå†…ï¼Œç„¶ååœ¨å †åŒºåˆ›å»ºä¸€ä¸ªjava.lang.Classå¯¹è±¡ï¼Œç”¨æ¥å°è£…ç±»åœ¨æ–¹æ³•åŒºå†…çš„æ•°æ®ç»“æ„ã€‚ç±»çš„åŠ è½½çš„æœ€ç»ˆäº§å“æ˜¯ä½äºå †åŒºä¸­çš„Classå¯¹è±¡ï¼ŒClasså¯¹è±¡å°è£…äº†ç±»åœ¨æ–¹æ³•åŒºå†…çš„æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”å‘å¤–éƒ¨æä¾›äº†è®¿é—®æ–¹æ³•åŒºå†…çš„æ•°æ®ç»“æ„çš„æ¥å£ã€‚</p>
<h2 id="ç±»çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#ç±»çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç±»çš„ç”Ÿå‘½å‘¨æœŸ"></a>ç±»çš„ç”Ÿå‘½å‘¨æœŸ</h2><p><img src="https://cloud.gemii.cc/lizcloud/fs/noauth/media/5ac34bc01e6d8a0037546f1b" alt="image"><br>ç±»ä»è¢«åŠ è½½åˆ°è™šæ‹Ÿæœºå†…å­˜ä¸­å¼€å§‹ï¼Œåˆ°å¸è½½å‡ºå†…å­˜ä¸ºæ­¢ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ï¼šåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æã€åˆå§‹åŒ–ã€ä½¿ç”¨å’Œå¸è½½7ä¸ªé˜¶æ®µã€‚å…¶ä¸­éªŒè¯ã€å‡†å¤‡ã€è§£æç»Ÿç§°ä¸ºè¿æ¥ã€‚<br>åŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€åˆå§‹åŒ–å’Œå¸è½½è¿™5ä¸ªé˜¶æ®µçš„é¡ºåºæ˜¯ç¡®å®šçš„ï¼Œç±»çš„åŠ è½½è¿‡ç¨‹å¿…é¡»æŒ‰ç…§è¿™ç§é¡ºåºæŒ‰éƒ¨å°±ç­çš„å¼€å§‹ï¼Œè€Œè§£æåˆ™ä¸ä¸€å®šï¼Œå®ƒåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥åœ¨åˆå§‹åŒ–é˜¶æ®µä¹‹åå†å¼€å§‹ï¼Œè¿™æ˜¯ä¸ºäº†æ”¯æŒJavaçš„è¿è¡Œæ—¶ç»‘å®šã€‚</p>
<h3 id="åŠ è½½"><a href="#åŠ è½½" class="headerlink" title="åŠ è½½"></a>åŠ è½½</h3><p>åŠ è½½é˜¶æ®µï¼Œè™šæ‹Ÿæœºéœ€è¦å®Œæˆä»¥ä¸‹3ä»¶äº‹æƒ…ï¼š</p>
<ul>
<li>é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ</li>
</ul>
<blockquote>
<p>åŠ è½½.classæ–‡ä»¶çš„æ–¹å¼</p>
<ol>
<li>ä»æœ¬åœ°ç³»ç»Ÿä¸­ç›´æ¥åŠ è½½</li>
<li>é€šè¿‡ç½‘ç»œä¸‹è½½</li>
<li>ä»zipï¼Œjarç­‰å½’æ¡£æ–‡ä»¶ä¸­åŠ è½½.classæ–‡ä»¶</li>
<li>ä»ä¸“æœ‰æ•°æ®åº“ä¸­æå–</li>
<li>å°†Javaæºæ–‡ä»¶åŠ¨æ€ç¼–è¯‘ä¸º.classæ–‡ä»¶</li>
</ol>
</blockquote>
<ul>
<li>å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„</li>
<li>åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•å»è¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£</li>
</ul>
<p>åŠ è½½å’Œè¿æ¥é˜¶æ®µçš„éƒ¨åˆ†å†…å®¹æ˜¯äº¤å‰è¿›è¡Œçš„ï¼ŒåŠ è½½é˜¶æ®µå°šæœªå®Œæˆï¼Œè¿æ¥é˜¶æ®µå¯èƒ½å·²ç»å¼€å§‹ï¼ˆå¦‚ä¸€éƒ¨åˆ†å­—èŠ‚ç æ–‡ä»¶æ ¼å¼éªŒè¯ï¼‰ï¼Œä½†æ˜¯è¿™äº›åŠ¨ä½œä»ç„¶å±äºè¿æ¥é˜¶æ®µçš„å†…å®¹ï¼Œè¿™ä¸¤ä¸ªé˜¶æ®µçš„å¼€å§‹æ—¶é—´ä»ç„¶ä¿æŒç€å›ºå®šçš„å…ˆåé¡ºåºã€‚</p>
<p>åŠ è½½é˜¶æ®µæ—¢å¯ä»¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ç±»åŠ è½½å™¨æ¥å®ŒæˆåŠ è½½ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„ç±»åŠ è½½å™¨ã€‚</p>
<p>åŠ è½½é˜¶æ®µå®Œæˆåï¼Œè™šæ‹Ÿæœºå¤–éƒ¨çš„äºŒè¿›åˆ¶å­—èŠ‚æµå°±æŒ‰ç…§è™šæ‹Ÿæœºæ‰€éœ€çš„æ ¼å¼å­˜å‚¨åœ¨æ–¹æ³•åŒºä¹‹ä¸­ï¼Œè€Œä¸”åœ¨Javaå †ä¸­ä¹Ÿåˆ›å»ºä¸€ä¸ªjava.lang.Classå¯¹è±¡ï¼Œè¿™æ ·ä¾¿å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡è®¿é—®æ–¹æ³•åŒºä¸­çš„è¿™äº›æ•°æ®ã€‚</p>
<h3 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h3><h4 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h4><p>éªŒè¯æ˜¯è¿æ¥é˜¶æ®µçš„ç¬¬ä¸€æ­¥ï¼Œè¿™ä¸€æ­¥çš„ç›®çš„æ˜¯ä¸ºäº†ç¡®ä¿Classæ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºçš„è¦æ±‚ï¼Œå¹¶ä¸”ä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«çš„å®‰å…¨ã€‚</p>
<p>ä¸»è¦å®Œæˆ4ä¸ªæ£€éªŒåŠ¨ä½œï¼š</p>
<ul>
<li>æ–‡ä»¶æ ¼å¼éªŒè¯ï¼šéªŒè¯è‡ªå·±ç•™æ˜¯å¦ç¬¦åˆClassæ–‡ä»¶æ ¼å¼çš„è§„èŒƒï¼Œä¾‹å¦‚æ˜¯å¦ä»¥0xCAFABABEå¼€å¤´ï¼ˆä¼ è¯´ä¸­çš„é­”æ•°ï¼‰ã€ä¸»æ¬¡ç‰ˆæœ¬å·æ˜¯å¦åœ¨å½“å‰è™šæ‹Ÿæœºçš„å¤„ç†èŒƒå›´ä¹‹å†…ã€å¸¸é‡æ± ä¸­çš„æ•äº®æ˜¯å¦æœ‰ä¸è¢«æ”¯æŒçš„ç±»å‹ã€‚</li>
<li>å…ƒæ•°æ®éªŒè¯ï¼šå¯¹å­—èŠ‚ç æè¿°çš„ä¿¡æ¯è¿›è¡Œè¯­ä¹‰åˆ†æï¼Œä»¥ä¿è¯å…¶æè¿°çš„ä¿¡æ¯ç¬¦åˆJavaè¯­è¨€çš„è§„èŒƒï¼›ä¾‹å¦‚è¿™ä¸ªç±»æ˜¯å¦æœ‰çˆ¶ç±»ï¼ˆé™¤äº†java.lang.Objectï¼‰</li>
<li>å­—èŠ‚ç éªŒè¯ï¼šé€šè¿‡æ•°æ®æµå’Œæ§åˆ¶æµåˆ†æï¼Œç¡®å®šç¨‹åºè¯­ä¹‰æ˜¯åˆæ³•çš„ã€ç¬¦åˆé€»è¾‘çš„</li>
<li>ç¬¦å·å¼•ç”¨éªŒè¯ï¼šç¡®ä¿è§£æåŠ¨ä½œèƒ½æ­£ç¡®æ‰§è¡Œ</li>
</ul>
<p>éªŒè¯é˜¶æ®µæ˜¯éå¸¸é‡è¦çš„ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„ï¼Œå®ƒå¯¹ç¨‹åºè¿è¡ŒæœŸæ²¡æœ‰å½±å“ï¼Œå¦‚æœæ‰€å¼•ç”¨çš„ç±»ç»è¿‡åå¤éªŒè¯ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘é‡‡ç”¨-Xverifynoneå‚æ•°æ¥å…³é—­å¤§éƒ¨åˆ†çš„ç±»éªŒè¯æªæ–½ï¼Œä»¥ç¼©çŸ­è™šæ‹Ÿæœºç±»åŠ è½½çš„æ—¶é—´ã€‚</p>
<h4 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h4><p>ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ï¼Œæ­£å¼ä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼çš„é˜¶æ®µï¼Œè¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­åˆ†é…ã€‚</p>
<p>æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>è¿™æ—¶å€™è¿›è¡Œå†…å­˜åˆ†é…çš„ä»…åŒ…æ‹¬ç±»å˜é‡ï¼ˆstaticï¼‰ï¼Œä¸åŒ…æ‹¬å®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡å°†åœ¨å¯¹è±¡å®ä¾‹åŒ–æ—¶éšç€å¯¹è±¡ä¸€å—åˆ†é…åœ¨Javaå †ä¸­ã€‚</li>
<li>è¿™æ˜¯æ‰€è®¾ç½®çš„åˆå§‹å€¼é€šå¸¸æƒ…å†µä¸‹æ˜¯æ•°æ®ç±»å‹é»˜è®¤çš„é›¶å€¼ï¼ˆå¦‚0ã€0Lã€nullã€falseç­‰ï¼‰ï¼Œè€Œä¸æ˜¯ä»£ç ä¸­è¢«æ˜¾ç¤ºèµ‹äºˆçš„å€¼ã€‚</li>
</ul>
<p>å‡å¦‚ä¸€ä¸ªç±»å˜é‡çš„å®šä¹‰ä¸ºï¼š<br>public static int value = 7<br>é‚£ä¹ˆåœ¨å‡†å¤‡é˜¶æ®µè¿‡åvalueçš„åˆå§‹å€¼ä¸º0ï¼Œè€Œä¸æ˜¯7ï¼Œè¿™æ—¶å€™è¿˜æœªæ‰§è¡Œä»»ä½•Javaæ–¹æ³•ï¼ŒæŠŠvalueèµ‹å€¼ä¸º7çš„åŠ¨ä½œå°†åœ¨åˆå§‹åŒ–é˜¶æ®µæ‰ä¼šæ‰§è¡Œã€‚ç‰¹æ®Šæƒ…å†µï¼šåŠ è½½finalå…³é”®è¯åï¼Œå³å½“ç±»å­—æ®µçš„å­—æ®µå±æ€§æ˜¯ConstantValueæ—¶ï¼Œä¼šåœ¨å‡†å¤‡é˜¶æ®µåˆå§‹åŒ–ä¸ºæŒ‡å®šçš„å€¼ï¼Œæ‰€ä»¥æ ‡æ³¨finalåï¼Œvalueçš„å€¼åœ¨æ­¤é˜¶æ®µåˆå§‹åŒ–ä¸º7è€Œä¸æ˜¯0ã€‚</p>
<h4 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h4><p>è§£æé˜¶æ®µæ˜¯è™šæ‹Ÿæœºå°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ï¼Œè§£æåŠ¨ä½œä¸»è¦é’ˆå¯¹ç±»æˆ–æ¥å£ã€å­—æ®µã€ç±»æ–¹æ³•ã€æ¥å£æ–¹æ³•ã€æ–¹æ³•ç±»å‹ã€æ–¹æ³•å¥æŸ„å’Œè°ƒç”¨ç‚¹é™å®šç¬¦7ç±»ç¬¦å·å¼•ç”¨è¿›è¡Œã€‚ç¬¦å·å¼•ç”¨å°±æ˜¯ä¸€ç»„ç¬¦å·æ¥æè¿°æ¨¡æ¿ï¼Œå¯ä»¥æ˜¯ä»»ä½•å­—é¢é‡ã€‚<br>ç›´æ¥å¼•ç”¨å°±æ˜¯ç›´æ¥æŒ‡å‘æ¨¡æ¿çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–ä¸€ä¸ªç®€æ´å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚</p>
<h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p>ä¸ºç±»çš„é™æ€å˜é‡èµ‹äºˆæ­£ç¡®çš„åˆå§‹å€¼ï¼ŒJVMè´Ÿè´£å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸»è¦å¯¹ç±»å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚å¯¹ç±»å˜é‡è¿›è¡Œåˆå§‹å€¼è®¾å®šæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>å£°æ˜ç±»å˜é‡æ˜¯æŒ‡å®šåˆå§‹å€¼</li>
<li>ä½¿ç”¨é™æ€ä»£ç å—ä¸ºç±»å˜é‡æŒ‡å®šåˆå§‹å€¼</li>
</ul>
<p>JVMåˆå§‹åŒ–æ­¥éª¤ï¼š</p>
<ol>
<li>å‡å¦‚è¿™ä¸ªç±»è¿˜æ²¡æœ‰è¢«åŠ è½½å’Œè¿æ¥ï¼Œåˆ™ç¨‹åºå…ˆåŠ è½½å¹¶è¿æ¥è¯¥ç±»</li>
<li>å‡å¦‚è¯¥ç±»çš„ç›´æ¥çˆ¶ç±»è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å…¶ç›´æ¥çˆ¶ç±»</li>
<li>å‡å¦‚ç±»ä¸­æœ‰åˆå§‹åŒ–è¯­å¥ï¼Œåˆ™ç³»ç»Ÿä¾æ¬¡æ‰§è¡Œè¿™äº›åˆå§‹åŒ–è¯­å¥</li>
</ol>
<p>ç±»åˆå§‹åŒ–æ—¶æœºï¼ˆåªæœ‰å½“å¯¹ç±»çš„ä¸»åŠ¨ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šå¯¼è‡´ç±»çš„åˆå§‹åŒ–ï¼‰ï¼š</p>
<ul>
<li>åˆ›å»ºç±»çš„å®ä¾‹ï¼Œnew Example()</li>
<li>è®¿é—®æŸä¸ªç±»æˆ–æ¥å£çš„é™æ€å˜é‡ï¼Œæˆ–è€…å¯¹è¯¥é™æ€å˜é‡è¿›è¡Œèµ‹å€¼</li>
<li>è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•</li>
<li>åå°„ï¼ˆClass.forName(â€œâ€¦â€)ï¼‰</li>
<li>åˆå§‹åŒ–æŸä¸ªç±»çš„å­ç±»ï¼Œåˆ™å…¶çˆ¶ç±»ä¹Ÿä¼šè¢«åˆå§‹åŒ–</li>
<li>Javaè™šæ‹Ÿæœºå¯åŠ¨æ—¶è¢«æ ‡æ˜ä¸ºå¯åŠ¨ç±»çš„ç±»ï¼Œç›´æ¥ä½¿ç”¨java.exeå‘½ä»¤æ¥è¿è¡ŒæŸä¸ªä¸»ç±»</li>
</ul>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/06/30/Javaç±»åŠ è½½æœºåˆ¶(ä¸€)/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-get-setåŸå­æ€§å¼•å‘å‡ºçš„æ€è€ƒ" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/06/14/get-setåŸå­æ€§å¼•å‘å‡ºçš„æ€è€ƒ/">get setåŸå­æ€§å¼•å‘å‡ºçš„æ€è€ƒ</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/06/14/get-setåŸå­æ€§å¼•å‘å‡ºçš„æ€è€ƒ/">
            <time datetime="2018-06-14T02:07:08.000Z" itemprop="datePublished">2018-06-14</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/æŠ€æœ¯æ‚è°ˆ/">æŠ€æœ¯æ‚è°ˆ</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/åŸå­æ€§/">åŸå­æ€§</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>ç»å¸¸åœ¨ä¸šåŠ¡ä¸­ç¢°åˆ°å¯¹å˜é‡å…ˆgetå˜é‡åˆ¤æ–­æ˜¯å¦ä¸ºblankï¼Œå¦‚æœä¸ä¸ºblankç›´æ¥è¿”å›ï¼Œå¦‚æœä¸ºblankéœ€å…ˆè·å–è®¾ç½®åˆ°å˜é‡ï¼Œåœ¨è¿”å›ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// select</span></span><br><span class="line">    String accessToken = redisUtils.get(key);</span><br><span class="line">    <span class="keyword">if</span>(StringUtils.isBlank(accessToken))&#123;</span><br><span class="line">        <span class="comment">// get set</span></span><br><span class="line">        accessToken = HTTPUtils.doGet(url);</span><br><span class="line">        redisUtils.setEx(key, accessToken, <span class="number">7000</span>, TimeUtils.SECONDS);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> accessToken;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæˆ‘ä»¬å°±èƒ½å‘ç°é—®é¢˜äº†ï¼Œæˆ‘ä»¬æ“ä½œçš„redisä¸­çš„keyç›¸å½“äºå…¨å±€å˜é‡ï¼Œå¦‚æœæ­¤æ—¶ä¸å¹¸åŒä¸€æ—¶åˆ»å¤šä¸ªçº¿ç¨‹åŒæ—¶è·å–accessTokenï¼Œæ›´ä¸å¹¸çš„æ˜¯æœ€æ–°è·å–çš„accessTokenæ‰æ˜¯æœ‰æ•ˆçš„ï¼Œé‚£ä¹ˆæœ‰å¾ˆå¤§çš„å‡ ç‡å‰ä¸€ä¸ªçº¿ç¨‹åˆšè·å–åˆ°accessTokenå¼€å§‹è¡¨æ¼”çš„æ—¶å€™ï¼Œè¢«é€šçŸ¥accessTokenå·²å¤±æ•ˆå¯¼è‡´æ•´æ®µå®æ‰ã€‚æ‰€ä»¥æ€æ ·ä¿è¯çº¿ç¨‹å®‰å…¨çš„åŒæ—¶è¿˜èƒ½ä¿è¯é«˜æ€§èƒ½å‘¢ï¼Ÿè¿™æœŸé—´ä¹Ÿæ€è€ƒäº†å¤šç§æ–¹æ³•ï¼š</p>
<h3 id="ç®€å•ç²—æš´å‹"><a href="#ç®€å•ç²—æš´å‹" class="headerlink" title="ç®€å•ç²—æš´å‹"></a>ç®€å•ç²—æš´å‹</h3><p>ç›´æ¥å¯¹getTokenæ•´ä¸ªæ–¹æ³•è¿›è¡ŒåŒæ­¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> syncronzied String <span class="title">getToken</span><span class="params">()</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•å®Œå…¨è§£å†³äº†å…¨å±€å˜é‡çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œselect-&gt;get-&gt;set å°†è¿™ä¸€æ•´ä¸ªæ“ä½œä¿è¯åŸå­æ€§ï¼Œä½†æ˜¯åŠ£å¤„ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œè¿™é‡Œçš„é”é¢—ç²’åº¦å¤ªå¤§ï¼Œå¯¼è‡´æ‰€æœ‰çº¿ç¨‹å¿…é¡»ä¹–ä¹–çš„ä¸€ä¸ªä¸€ä¸ªgetToken, æ€§èƒ½ä¸ç”¨è¯´ä¹ŸçŸ¥é“æå·®ï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ä¿è¯å¤šçº¿ç¨‹çš„è¯»ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å†™å‘¢ï¼Ÿ</p>
<h3 id="åªé”get-set"><a href="#åªé”get-set" class="headerlink" title="åªé”get set"></a>åªé”get set</h3><p>æˆ‘ä»¬æ¥æ”¹å˜ä¸€ä¸‹é”çš„ä½ç½®:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">byte</span>[] mutex = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">0</span>];</span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// select</span></span><br><span class="line">    String accessToken = redisUtils.get(key);</span><br><span class="line">    <span class="keyword">if</span>(StringUtils.isBlank(accessToken))&#123;</span><br><span class="line">        syncronized(mutex)&#123;</span><br><span class="line">            <span class="comment">// get set</span></span><br><span class="line">            accessToken = HTTPUtils.doGet(url);</span><br><span class="line">            redisUtils.setEx(key, accessToken, <span class="number">7000</span>, TimeUtils.SECONDS);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> accessToken;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“select accessTokenä¸ºblankçš„æ—¶å€™æ‰ä¼šè¿›å…¥åŒæ­¥ä»£ç å— get setï¼Œä¹ä¸€çœ‹å¯èƒ½æ²¡é—®é¢˜äº†ï¼Œå…¶å®å½“åŒä¸€æ—¶åˆ»å¤šä¸ªçº¿ç¨‹è®¿é—®çš„æ—¶å€™è¿˜æ˜¯ä¼šæœ‰é—®é¢˜ï¼Œæ¯”å¦‚å¤šä¸ªçº¿ç¨‹å·²ç»è¿›è¡Œäº†blankåˆ¤æ–­ï¼Œéƒ½åœ¨ç­‰å¾…mutextçš„é”ï¼Œå¯¼è‡´å‰ä¸€ä¸ªå¾—åˆ°mutexé”çš„çº¿ç¨‹è·å–åˆ°çš„accessTokenå› ä¸ºä¸‹ä¸€ä¸ªçº¿ç¨‹å†æ¬¡get set accessTokenè€Œå¤±æ•ˆã€‚</p>
<h3 id="åŒé‡æ£€æŸ¥"><a href="#åŒé‡æ£€æŸ¥" class="headerlink" title="åŒé‡æ£€æŸ¥"></a>åŒé‡æ£€æŸ¥</h3><p>ä¸ºäº†è§£å†³ä¸Šä¸€ç§æ–¹æ³•ç¢°åˆ°çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·å–åˆ°é”æ—¶å†æ¬¡è¿›è¡Œç¡®è®¤ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">byte</span>[] mutex = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">0</span>];</span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// select</span></span><br><span class="line">    String accessToken = redisUtils.get(key);</span><br><span class="line">    <span class="keyword">if</span>(StringUtils.isBlank(accessToken))&#123;</span><br><span class="line">        syncronized(mutex)&#123;</span><br><span class="line">            <span class="comment">// å†æ¬¡ç¡®è®¤</span></span><br><span class="line">            accessToken = redisUtils.get(key);</span><br><span class="line">            <span class="keyword">if</span>(StringUtils.isBlank(accessToken))&#123;</span><br><span class="line">                <span class="comment">// get set</span></span><br><span class="line">                accessToken = HTTPUtils.doGet(url);</span><br><span class="line">                redisUtils.setEx(key, accessToken, <span class="number">7000</span>, TimeUtils.SECONDS);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> accessToken;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶æ—¢ä¿è¯äº†çº¿ç¨‹å®‰å…¨çš„åŒæ—¶ï¼Œåˆå°½å¯èƒ½çš„å‡å°‘åŒæ­¥ä»£ç æå‡æ€§èƒ½ã€‚</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/06/14/get-setåŸå­æ€§å¼•å‘å‡ºçš„æ€è€ƒ/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Hibernate-no-longer-referencedå¼‚å¸¸" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/01/04/Hibernate-no-longer-referencedå¼‚å¸¸/">Hibernate - no longer referencedå¼‚å¸¸</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/01/04/Hibernate-no-longer-referencedå¼‚å¸¸/">
            <time datetime="2018-01-04T10:09:17.000Z" itemprop="datePublished">2018-01-04</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/Java-Framework/">Java Framework</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Hibernate/">Hibernate</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>åœ¨ä½¿ç”¨hibernateçº§è”å…³ç³»æ—¶ç»™äº†æˆ‘ä»¬æå¤§çš„ä¾¿åˆ©ï¼Œä½†æ˜¯æœ‰æ—¶ä¹Ÿä¼šå‡ºç°è«åå…¶å¦™çš„å¼‚å¸¸ï¼Œä»£ç æ€ä¹ˆçœ‹éƒ½æ²¡æœ‰é—®é¢˜ï¼Œsaveçš„æ—¶å€™å°±æ˜¯æŠ›å‡ºäº†å¼‚å¸¸(æ°”ğŸ˜ )ã€‚</p>
<p>æœ€è¿‘å°±è¢«åŒäº‹é—®åˆ°äº†è¿™æ ·çš„é—®é¢˜ï¼Œè°ƒç”¨saveçš„æ—¶å€™æŠ›å‡ºäº†è¿™ä¸ªå¼‚å¸¸ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">org.hibernate.HibernateException:</span><br><span class="line">A collection with cascade=<span class="string">"all-delete-orphan"</span> was no longer referenced by the owning entity instance</span><br></pre></td></tr></table></figure>
<p>å­—é¢æ„æ€æ˜¯è¯´ï¼Œè¿™ä¸ªentityä¸å†æ‹¥æœ‰å®ä¾‹çš„å¼•ç”¨ï¼Œæˆ‘ä»¬åå¤æ£€æŸ¥äº†ä»£ç éƒ½æ²¡æœ‰å‘ç°é—®é¢˜ã€‚ã€‚ã€‚ã€‚</p>
<p>ç»è¿‡ä¸€é¡¿æ“ä½œä¹‹åï¼ˆgoogleğŸ˜ï¼‰ï¼Œç»ˆäºå‘ç°äº†é—®é¢˜ã€‚</p>
<p>åœ¨ä¸€ä¸ªone to manyå…³ç³»æ—¶ï¼Œä¸€çš„é‚£ä¸€æ–¹æˆ‘ä»¬å®šä¹‰äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OneToMany</span>(cascade = CascadeType.ALL, mappedBy = <span class="string">"parent"</span>, orphanRemoval = <span class="keyword">true</span>)</span><br><span class="line"><span class="keyword">private</span> List&lt;Children&gt; childs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure>
<p>é—®é¢˜å°±å‡ºåœ¨orphanRemoval=trueè¿™é‡Œï¼Œå½“è¿™ä¸ªå€¼ä¸ºtrueæ—¶ï¼Œhibernateä¼šå¸®æˆ‘ä»¬ç®¡ç†è¿™ä¸ªå­é›†åˆï¼Œæ‰€æœ‰å½“childsä¸ºnullæˆ–è°ƒç”¨æ™®é€šçš„setæ–¹æ³•æ—¶ï¼Œå°±ä¼šæŠ›å‡ºä¸Šé¢è¿™ä¸ªå¼‚å¸¸ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setChilds</span><span class="params">(List&lt;Children&gt; childs)</span></span>&#123;</span><br><span class="line">    <span class="comment">// will throw exception like this</span></span><br><span class="line">    <span class="keyword">this</span>.childs = childs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªæ–°çš„childsä»£æ›¿äº†åŸæœ¬çš„childsï¼Œå¯¼è‡´parentå®ä½“ä¸åŸæœ¬çš„childsä¹‹é—´çš„å…³ç³»è¢«ç ´åäº†ï¼Œä½†æ˜¯åŸæœ¬çš„childsè¿˜å­˜åœ¨äºè¿™ä¸€ä¸ªsessionä¸­ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨saveçš„æ—¶å€™ï¼ŒåŸæœ¬çš„childsä¸parentä¹‹é—´å…³ç³»è¢«ç ´åï¼Œhibernateä¸è®¤è¯†äº†åŸæœ¬çš„childsï¼Œå°±ä¼šthrowä¸Šé¢çš„å¼‚å¸¸ã€‚</p>
<p>å½“çŸ¥é“äº†ä¸ºä»€ä¹ˆä¹‹åï¼Œäº‹æƒ…å°±å¥½åŠäº†ï¼Œæˆ‘ä»¬éœ€è¦å¯¹setæ–¹æ³•è¿›è¡Œæ”¹é€ ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setChilds</span><span class="params">(List&lt;Children&gt; childs)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.childs.clear();</span><br><span class="line">    <span class="keyword">this</span>.childs.addAll(childs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·childså’Œparentä¹‹é—´çš„å…³ç³»æ²¡æœ‰è¢«ç ´åï¼Œå½“ç„¶saveçš„æ—¶å€™hibernateä¹Ÿå°±è®¤è¯†äº†è¿™ä¸ªchildså•¦ã€‚</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2018/01/04/Hibernate-no-longer-referencedå¼‚å¸¸/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Javaæ·±åº¦æ‹·è´-CloneUtils" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2017/12/23/Javaæ·±åº¦æ‹·è´-CloneUtils/">Javaæ·±åº¦æ‹·è´:CloneUtils</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2017/12/23/Javaæ·±åº¦æ‹·è´-CloneUtils/">
            <time datetime="2017-12-23T09:26:46.000Z" itemprop="datePublished">2017-12-23</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/JavaBase/">JavaBase</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Deep-Clone/">Deep Clone</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * FUNCTION</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zili</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2017-12-23 17:17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CloneUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends Serializable&gt; <span class="function">T <span class="title">deepClone</span><span class="params">(T obj)</span> </span>&#123;</span><br><span class="line">        T cloneObj = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å†™å…¥å­—èŠ‚æµ</span></span><br><span class="line">            ByteArrayOutputStream out = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">            ObjectOutputStream obs = <span class="keyword">new</span> ObjectOutputStream(out);</span><br><span class="line">            obs.writeObject(obj);</span><br><span class="line">            obs.close();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ†é…å†…å­˜, å†™å…¥åŸå§‹å¯¹è±¡, ç”Ÿæˆæ–°å¯¹è±¡</span></span><br><span class="line">            ByteArrayInputStream ios = <span class="keyword">new</span> ByteArrayInputStream(out.toByteArray());</span><br><span class="line">            ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(ios);</span><br><span class="line">            <span class="comment">// è¿”å›ç”Ÿæˆçš„æ–°å¯¹è±¡</span></span><br><span class="line">            cloneObj = (T) ois.readObject();</span><br><span class="line">            ois.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cloneObj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2017/12/23/Javaæ·±åº¦æ‹·è´-CloneUtils/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Spring-Cloud-Feign" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2017/12/23/Spring-Cloud-Feign/">Spring Cloud - Feign</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2017/12/23/Spring-Cloud-Feign/">
            <time datetime="2017-12-23T07:27:24.000Z" itemprop="datePublished">2017-12-23</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/Spring-Cloud/">Spring Cloud</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Feign/">Feign</a>, <a class="tag-link" href="/tags/Ribbon/">Ribbon</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h2 id="Ribbon"><a href="#Ribbon" class="headerlink" title="Ribbon"></a>Ribbon</h2><p>Spring CLoud Ribbonæ˜¯åŸºäºHTTPå’ŒTCPçš„è´Ÿè½½å‡è¡¡å·¥å…·ï¼Œåœ¨å¾®æœåŠ¡å¼€å‘æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„Feignä¹Ÿæ˜¯ä½¿ç”¨çš„å®ƒã€‚å®ƒæ˜¯ä»¥Netflix Ribbonä¸ºåŸºç¡€å¼€å‘çš„ï¼Œ<br>Ribbonæ˜¯é€šè¿‡åœ¨å®¢æˆ·ç«¯é…ç½®ribbonServerListæ¥å®ç°è¯·æ±‚å’Œè´Ÿè½½å‡è¡¡çš„ã€‚å½“ä¸Spring Cloud Eurekaè”åˆä½¿ç”¨æ—¶ï¼ŒribbonServerListä¼šè¢«DiscoveryEnabledNIWSServerListé‡å†™ï¼Œå®ƒä¼šå°†è·å–æœåŠ¡ç«¯åˆ—è¡¨å’Œç¡®å®šæœåŠ¡ç«¯æ˜¯å¦å¯åŠ¨çš„èŒè´£äº¤ç»™eurekaã€‚</p>
<p>å‡†å¤‡å·¥ä½œï¼š<br>1ã€å¯åŠ¨Eureka Server<br>2ã€å¯åŠ¨ä¸¤ä¸ªprovider-userï¼ˆæœåŠ¡æä¾›è€…ï¼‰</p>
<p><img src="https://static.oschina.net/uploads/img/201712/23143251_4JNa.png" alt="image"></p>
<p>åœ¨æœåŠ¡æä¾›è€…ä¸­åªç®€å•äº†æä¾›äº†ä¸€ä¸ªåŠ æ³•åŠŸèƒ½ï¼š</p>
<p>provider 1ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addCompute</span><span class="params">(@RequestParam Integer a, @RequestParam Integer b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"æˆ‘æ˜¯ç¬¬ä¸€ä¸ªæœåŠ¡æä¾›è€…, ç­”æ¡ˆæ˜¯: "</span> + (a + b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>provider 2:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addCompute</span><span class="params">(@RequestParam Integer a, @RequestParam Integer b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"æˆ‘æ˜¯ç¬¬äºŒä¸ªæœåŠ¡æä¾›è€…, ç­”æ¡ˆæ˜¯: "</span> + (a + b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨Ribbonå®ç°è´Ÿè½½å‡è¡¡"><a href="#ä½¿ç”¨Ribbonå®ç°è´Ÿè½½å‡è¡¡" class="headerlink" title="ä½¿ç”¨Ribbonå®ç°è´Ÿè½½å‡è¡¡"></a>ä½¿ç”¨Ribbonå®ç°è´Ÿè½½å‡è¡¡</h3><p>æ„å»ºä¸€ä¸ªSpring booté¡¹ç›®ï¼š<br>ç•¥<br>æ·»åŠ ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-ribbon<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">version</span>&gt;</span>Brixton.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨é¡¹ç›®ä¸»ç±»ï¼Œæ·»åŠ @EnableDiscoveryClientæ¥å¯ç”¨æœåŠ¡å‘ç°èƒ½åŠ›ã€‚åˆ›å»ºRestTemplateçš„Beanï¼Œæ·»åŠ @LoadBalancedæ³¨è§£å¯ç”¨è´Ÿè½½å‡è¡¡åŠŸèƒ½ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TODO</span></span><br><span class="line"><span class="comment"> * Created by jinzili on 09/06/2017.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerMovieApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@LoadBalanced</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RestTemplate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsumerMovieApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºConsumerControllerï¼Œç›´æ¥ä½¿ç”¨RestTemplateè°ƒç”¨providerï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">computeAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String addResult = <span class="keyword">this</span>.restTemplate.getForObject(<span class="string">"http://MIRCROSERVICE-PROVIDER-USER/add?a=2&amp;b=3"</span>, String.class);</span><br><span class="line">    System.out.println(addResult);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>application.ymlé…ç½®eurekaæ³¨å†Œä¸­å¿ƒï¼š</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line"><span class="attr">  port:</span> <span class="number">8010</span></span><br><span class="line"><span class="attr">debug:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  application:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">microservice-consumer</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line"><span class="attr">  instance:</span></span><br><span class="line"><span class="attr">    prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  client:</span></span><br><span class="line"><span class="attr">    service-url:</span></span><br><span class="line">      <span class="comment"># defaultZone: http://peer1:peer1@peer1:8761/eureka/, http://peer2:peer2@peer2:8762/eureka/</span></span><br><span class="line"><span class="attr">      defaultZone:</span> <span class="attr">http://localhost:8761/eureka/</span></span><br></pre></td></tr></table></figure>
<p>è®¿é—®ä¸¤æ¬¡<a href="http://localhost:8010/addï¼ŒæŸ¥çœ‹æ—¥å¿—" target="_blank" rel="noopener">http://localhost:8010/addï¼ŒæŸ¥çœ‹æ—¥å¿—</a><br><img src="https://static.oschina.net/uploads/img/201712/23150019_gmKR.png" alt="image"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªprovideråˆ†åˆ«è¢«è°ƒç”¨äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥é€šè¿‡è¿™äº›ç®€å•çš„é…ç½®å’Œä»£ç å·²ç»æä¾›äº†ä¸€ä¸ªå®¢æˆ·ç«¯è´Ÿè´£å‡è¡¡çš„spring booté¡¹ç›®ã€‚</p>
<p>ä½†æ˜¯åœ¨å®é™…é¡¹ç›®ä¸­ä¸€èˆ¬ä¸ä¼šç›´æ¥ä½¿ç”¨Ribbonï¼Œå› ä¸ºæˆ‘ä»¬å°†URLç¡¬ç¼–ç åˆ°äº†Controlleré‡Œï¼Œè€Œä¸”å¯èƒ½æ•£è½åœ¨é¡¹ç›®çš„å„ä¸ªåœ°æ–¹ï¼Œè¿™ç§æ–¹å¼å®åœ¨ä¸æ€ä¹ˆä¼˜é›…ã€‚æ‰€ä»¥åœ¨å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬éƒ½ä½¿ç”¨å£°æ˜å¼çš„å®¢æˆ·ç«¯â€“Feignã€‚</p>
<h2 id="Feign"><a href="#Feign" class="headerlink" title="Feign"></a>Feign</h2><p>Feignåœ¨RestTemplateçš„åŸºç¡€ä¸Šå¯¹å…¶è¿›è¡Œå°è£…ï¼Œå¹¶ä¸”Spring Cloudä¸ºFeignå¢åŠ äº†å¯¹Spring MVCæ³¨è§£çš„æ”¯æŒï¼Œæ•´åˆäº†Ribbonå’ŒEurekaæ¥å®ç°è´Ÿè½½å‡è¡¡çš„ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªspring boot é¡¹ç›®ï¼š<br>ç•¥</p>
<p>æ·»åŠ ä¾èµ–ï¼š<br>åœ¨ä¸Šæ–‡çš„ä¾èµ–ä¸­åªéœ€åœ¨æ·»åŠ ä¸Šå¯¹Feignçš„ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-feign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨é¡¹ç›®ä¸»ç±»ä¸ŠåŠ ä¸Š@EnableFeignClientså¼€å¯Feign ClientåŠŸèƒ½ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TODO</span></span><br><span class="line"><span class="comment"> * Created by jinzili on 09/06/2017.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerMovieFeignApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(ConsumerMovieFeignApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºFeign Clientï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TODO</span></span><br><span class="line"><span class="comment"> * Created by jinzili on 10/06/2017.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@FeignClient</span>(name = <span class="string">"microservice-provider-user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserFeignClient</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line">    <span class="function">String <span class="title">add</span><span class="params">(@RequestParam(<span class="string">"a"</span>)</span> Integer a, @<span class="title">RequestParam</span><span class="params">(<span class="string">"b"</span>)</span> Integer b)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºcontrollerï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * TODO</span></span><br><span class="line"><span class="comment"> * Created by jinzili on 09/06/2017.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MovieController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserFeignClient userFeignClient;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/add"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        String result = <span class="keyword">this</span>.userFeignClient.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è®¿é—®ä¸¤æ¬¡<a href="http://localhost:8011/addï¼ŒæŸ¥çœ‹æ—¥å¿—" target="_blank" rel="noopener">http://localhost:8011/addï¼ŒæŸ¥çœ‹æ—¥å¿—</a><br><img src="https://static.oschina.net/uploads/img/201712/23151739_LRSR.png" alt="image"></p>
<p>æˆ‘ä»¬å‘ç°å¾—åˆ°äº†ä¸ä½¿ç”¨RestTemplateåŒæ ·çš„æ•ˆæœï¼Œä½†æ˜¯å¤§å¤§æé«˜äº†ä»£ç çš„ä¼˜é›…æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨providerï¼Œå¹¶ä¸”åŒä¸€æ¨¡å—çš„providerèšåˆåˆ°äº†ä¸€èµ·ã€‚</p>
<p>æœ‰éœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š</p>
<ul>
<li>æˆ‘ä»¬åœ¨Feign Clientä¸­ä½¿ç”¨@RequestParam @PathVariable æ³¨è§£æ—¶å¿…é¡»è¦è¦æŒ‡å®šå…¶valueï¼Œæ¯”å¦‚@RequestParam(â€œuserNameâ€)ï¼Œ@PathVariable(â€œidâ€)ï¼Œè¿™æ˜¯å› ä¸ºFeignåœ¨å¤„ç†è¿™äº›æ³¨è§£æ—¶å’ŒSpring MVCä¸ä¸€æ ·ï¼ŒFeignä¸ä¼šé€šè¿‡åå°„è·å–é»˜è®¤çš„keyå€¼ã€‚</li>
<li>å½“ä½¿ç”¨GETæ–¹æ³•å’Œ@RequestBodyæ³¨è§£å…±åŒå­˜åœ¨æ—¶ï¼ŒFeignä¼šå°†è¯·æ±‚è‡ªåŠ¨è½¬æˆPOSTæ–¹æ³•ï¼Œè¿™ä¸€ç‚¹ä¹Ÿæ˜¯éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ç‚¹ã€‚</li>
</ul>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">


    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">åˆ†äº«åˆ°ï¼š</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘">äººäººç½‘</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>


</div>

            
    
        <a href="http://www.jinzili.cc/2017/12/23/Spring-Cloud-Feign/#comments" class="article-comment-link">è¯„è®º</a>
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ &raquo;</a>
    </nav>
</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/22/test/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2018/07/22/test/" class="title">test</a></p>
                            <p class="item-date"><time datetime="2018-07-22T14:59:45.000Z" itemprop="datePublished">2018-07-22</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€å•å‘½ä»¤åŠjava-api/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/å¤§æ•°æ®/">å¤§æ•°æ®</a></p>
                            <p class="item-title"><a href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€å•å‘½ä»¤åŠjava-api/" class="title">å¤§æ•°æ®å­¦ä¹  - zookeeperç®€å•å‘½ä»¤åŠjava api</a></p>
                            <p class="item-date"><time datetime="2018-07-22T13:43:32.000Z" itemprop="datePublished">2018-07-22</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€ä»‹/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/å¤§æ•°æ®/">å¤§æ•°æ®</a></p>
                            <p class="item-title"><a href="/2018/07/22/å¤§æ•°æ®å­¦ä¹ -zookeeperç®€ä»‹/" class="title">å¤§æ•°æ®å­¦ä¹  - zookeeperç®€ä»‹</a></p>
                            <p class="item-date"><time datetime="2018-07-22T13:42:11.000Z" itemprop="datePublished">2018-07-22</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/08/Node-a-different-Node-js-version-using-å¼‚å¸¸/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/æŠ€æœ¯æ‚è°ˆ/">æŠ€æœ¯æ‚è°ˆ</a></p>
                            <p class="item-title"><a href="/2018/07/08/Node-a-different-Node-js-version-using-å¼‚å¸¸/" class="title">Node - a different Node.js version using å¼‚å¸¸</a></p>
                            <p class="item-date"><time datetime="2018-07-08T00:54:51.000Z" itemprop="datePublished">2018-07-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/07/08/Javaç±»åŠ è½½æœºåˆ¶(äºŒ)/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/JavaBase/">JavaBase</a></p>
                            <p class="item-title"><a href="/2018/07/08/Javaç±»åŠ è½½æœºåˆ¶(äºŒ)/" class="title">Javaç±»åŠ è½½æœºåˆ¶(äºŒ)</a></p>
                            <p class="item-date"><time datetime="2018-07-08T00:52:42.000Z" itemprop="datePublished">2018-07-08</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">åˆ†ç±»</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Framework/">Java Framework</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaBase/">JavaBase</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å¤§æ•°æ®/">å¤§æ•°æ®</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/å¼€å‘å¿ƒå¾—/">å¼€å‘å¿ƒå¾—</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯æ‚è°ˆ/">æŠ€æœ¯æ‚è°ˆ</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/éšç¬”/">éšç¬”</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">å½’æ¡£</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">ä¸ƒæœˆ 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">å…­æœˆ 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">ä¸€æœˆ 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">åäºŒæœˆ 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">åä¸€æœˆ 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">åæœˆ 2017</a><span class="archive-list-count">14</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">æ ‡ç­¾</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Deep-Clone/">Deep Clone</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eureka/">Eureka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Feign/">Feign</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hibernate/">Hibernate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Http/">Http</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaUtils/">JavaUtils</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/">Mybatis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ribbon/">Ribbon</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/">SpringCloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringDataJPA/">SpringDataJPA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/">SpringMVC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/">WebSocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos7/">centos7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dashboard/">dashboard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/">k8s</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kubeadm/">kubeadm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kubernetes/">kubernetes</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/online/">online</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/quartz/">quartz</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/synchronized/">synchronized</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ä¸‹è½½æ–‡ä»¶/">ä¸‹è½½æ–‡ä»¶</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/åŸå­æ€§/">åŸå­æ€§</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å¤§æ•°æ®/">å¤§æ•°æ®</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å¼€å‘å¿ƒå¾—/">å¼€å‘å¿ƒå¾—</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å¿ƒæƒ…/">å¿ƒæƒ…</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ç±»åŠ è½½/">ç±»åŠ è½½</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/èŠå¤©å®¤/">èŠå¤©å®¤</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/è·¨åŸŸ/">è·¨åŸŸ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/é”/">é”</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/éšç¬”/">éšç¬”</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
        <div class="widget tagcloud">
            <a href="/tags/Deep-Clone/" style="font-size: 10px;">Deep Clone</a> <a href="/tags/Eureka/" style="font-size: 10px;">Eureka</a> <a href="/tags/Feign/" style="font-size: 10px;">Feign</a> <a href="/tags/Hibernate/" style="font-size: 10px;">Hibernate</a> <a href="/tags/Http/" style="font-size: 10px;">Http</a> <a href="/tags/JavaUtils/" style="font-size: 10px;">JavaUtils</a> <a href="/tags/Mybatis/" style="font-size: 10px;">Mybatis</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SpringCloud/" style="font-size: 10px;">SpringCloud</a> <a href="/tags/SpringDataJPA/" style="font-size: 10px;">SpringDataJPA</a> <a href="/tags/SpringMVC/" style="font-size: 15px;">SpringMVC</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/centos7/" style="font-size: 10px;">centos7</a> <a href="/tags/dashboard/" style="font-size: 10px;">dashboard</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/k8s/" style="font-size: 15px;">k8s</a> <a href="/tags/kubeadm/" style="font-size: 10px;">kubeadm</a> <a href="/tags/kubernetes/" style="font-size: 20px;">kubernetes</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/online/" style="font-size: 10px;">online</a> <a href="/tags/quartz/" style="font-size: 20px;">quartz</a> <a href="/tags/synchronized/" style="font-size: 10px;">synchronized</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/zookeeper/" style="font-size: 15px;">zookeeper</a> <a href="/tags/ä¸‹è½½æ–‡ä»¶/" style="font-size: 10px;">ä¸‹è½½æ–‡ä»¶</a> <a href="/tags/åŸå­æ€§/" style="font-size: 10px;">åŸå­æ€§</a> <a href="/tags/å¤§æ•°æ®/" style="font-size: 15px;">å¤§æ•°æ®</a> <a href="/tags/å¼€å‘å¿ƒå¾—/" style="font-size: 10px;">å¼€å‘å¿ƒå¾—</a> <a href="/tags/å¿ƒæƒ…/" style="font-size: 10px;">å¿ƒæƒ…</a> <a href="/tags/ç±»åŠ è½½/" style="font-size: 15px;">ç±»åŠ è½½</a> <a href="/tags/èŠå¤©å®¤/" style="font-size: 10px;">èŠå¤©å®¤</a> <a href="/tags/è·¨åŸŸ/" style="font-size: 10px;">è·¨åŸŸ</a> <a href="/tags/é”/" style="font-size: 10px;">é”</a> <a href="/tags/éšç¬”/" style="font-size: 10px;">éšç¬”</a>
        </div>
    </div>

    
    <div id="toTop" class="fas fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 zili<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    
    <!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
    <script type="text/javascript">
     (function(d, s) {
         var j, e = d.getElementsByTagName(s)[0];

         if (typeof LivereTower === 'function') { return; }

         j = d.createElement(s);
         j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
         j.async = true;

         e.parentNode.insertBefore(j, e);
     })(document, 'script');
    </script>
  <noscript> ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
  <!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->





    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>